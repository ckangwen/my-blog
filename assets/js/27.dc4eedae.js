(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{489:function(s,n,t){"use strict";t.r(n);var a=t(2),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"package-json解读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-json解读"}},[s._v("#")]),s._v(" package.json解读")]),s._v(" "),t("p",[s._v("每个项目的根目录下面，一般都有一个"),t("code",[s._v("package.json")]),s._v("文件，定义了项目的配置信息。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("name：项目名称，如果不打算把项目打包发布，则name和version是可选字段。否则就必须要填写，构成项目的唯一标识，且name或作为下载的包名使用，例如"),t("code",[s._v("npm install <name>")])])]),s._v(" "),t("li",[t("p",[s._v("version：版本号，需要遵守“大版本.次要版本.小版本”的格式")]),s._v(" "),t("ul",[t("li",[s._v("version :必须满足规定的版本")]),s._v(" "),t("li",[s._v(">version  :大于某个版本")]),s._v(" "),t("li",[s._v(">=version :大于等于某个版本")]),s._v(" "),t("li",[s._v("<version  :小于某个版本")]),s._v(" "),t("li",[s._v("<=version  :小于等于某个版本")]),s._v(" "),t("li",[s._v("~version :大约等于某个版本。若指明minor，不允许超越minor;若未指明minor，则minor可变")]),s._v(" "),t("li",[s._v("^version  :兼容性版本。从左非零版本数值限定，之后版本数值可变")]),s._v(" "),t("li",[s._v("1.2.x  :指定某个版本数值可变")]),s._v(" "),t("li",[s._v("http://...  :指定链接")]),s._v(" "),t("li",[s._v("*  :任意版本")])])]),s._v(" "),t("li",[t("p",[s._v("description：项目描述信息")])]),s._v(" "),t("li",[t("p",[s._v("keywords：项目的关键字，有助于 npm search 发现，可以是一个数组")])]),s._v(" "),t("li",[t("p",[s._v("homepage：一个指向你项目主页的url")])]),s._v(" "),t("li",[t("p",[s._v("repository：存储库，指定代码所在位置（如果git repo在GitHub上，那么该npm docs 命令将能够找到文件位置）")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"repository"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"url"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/npm/npm.git"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("license：指明你的项目许可证，让用户知道以何种权限使用你的项目")])]),s._v(" "),t("li",[t("p",[s._v("bugs：当用户发现了你的bugs时，可以在这里找到你并反馈给你")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bugs"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"url"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://path/to/bug"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"email"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bug@example.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("author：个人信息")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"author"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xinhong"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"email"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xinhong@anjuke.com"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("contributors：用户群组")])]),s._v(" "),t("li",[t("p",[s._v("files：描述了将软件包作为依赖项安装时要包括的文件。文件格式遵循与.gitignore类似的语法")])]),s._v(" "),t("li",[t("p",[s._v("main：项目入口文件")])]),s._v(" "),t("li",[t("p",[s._v("script：在项目开发过程会使用的脚本命令，我们可以运行"),t("code",[s._v("npm run <script-name>")]),s._v("来执行它们("),t("code",[s._v("&&")]),s._v("连接多个命令使得脚本连续运行， "),t("code",[s._v("&")]),s._v("连接命令使得脚本并行运行)")])]),s._v(" "),t("li",[t("p",[s._v("dependencies：指定了项目运行所依赖的模块，即别人使用你的项目代码时必须依赖某些插件方可使用。")])]),s._v(" "),t("li",[t("p",[s._v("devDependencies：指定项目开发所需要的模块")])]),s._v(" "),t("li",[t("p",[s._v("peerDependencies：它会告诉npm：如果把当前项目包(package)列为依赖的话，那么那个包也必需应该有对peerDependencies中项目的依赖")])]),s._v(" "),t("li",[t("p",[s._v("engines：指定项目运行依赖的node版本或npm版本")])]),s._v(" "),t("li",[t("p",[s._v("private：如果将"),t("code",[s._v("private")]),s._v("设置为"),t("code",[s._v("true")]),s._v("，那么npm将不会发布这个包")])]),s._v(" "),t("li",[t("p",[s._v("bin：bin项用来指定各个内部命令对应的可执行文件的位置")])]),s._v(" "),t("li",[t("p",[s._v("config："),t("code",[s._v("config")]),s._v("字段用于添加命令行的环境变量")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"config"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"port"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8080"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("然后，在"),t("code",[s._v("server.js")]),s._v("脚本就可以引用"),t("code",[s._v("config")]),s._v("字段的值。")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("http\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createServer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("npm_package_config_port"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("style：style指定供浏览器使用时，样式文件所在的位置")])]),s._v(" "),t("li",[t("p",[s._v("typings：指定声明文件的位置")])])]),s._v(" "),t("p",[s._v("我们可以通过环境变量"),t("code",[s._v("process.env")]),s._v("对象，拿到 npm 所有的配置变量。其中 npm 脚本可以通过"),t("code",[s._v("npm_config_")]),s._v("前缀，拿到 npm 的配置变量。通过"),t("code",[s._v("npm_package_")]),s._v("前缀，拿到"),t("code",[s._v("package.json")]),s._v("里面的字段。")]),s._v(" "),t("h2",{attrs:{id:"发布包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布包"}},[s._v("#")]),s._v(" 发布包")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("npm init：生成package.json")])]),s._v(" "),t("li",[t("p",[s._v("npm adduser：注册npm账号")])]),s._v(" "),t("li",[t("p",[s._v("npm publish：上传包(要注意npm的源，如果要上传到npm，则源必须是"),t("code",[s._v("http://registry.npmjs.org/")]),s._v(")")]),s._v(" "),t("p",[s._v("如果是公开包则需要这样发布："),t("code",[s._v("npm publish --access=public")])])]),s._v(" "),t("li",[t("p",[s._v("npm version "),t("semver",[s._v("：升级版本")])],1),s._v(" "),t("ul",[t("li",[s._v("major，主版本号")]),s._v(" "),t("li",[s._v("minor，次版本号")]),s._v(" "),t("li",[s._v("patch，补丁版本号")]),s._v(" "),t("li",[s._v("premajor：预备主版本")]),s._v(" "),t("li",[s._v("prepatch：预备次版本")]),s._v(" "),t("li",[s._v("prerelease：预发布版本s")])]),s._v(" "),t("blockquote",[t("p",[s._v("版本号规范")]),s._v(" "),t("ul",[t("li",[s._v("补丁版本：解决了 bug 或者一些较小的更改，增加最后一位数字，比如 1.0.1 --\x3e 1.0.2")]),s._v(" "),t("li",[s._v("小版本：增加了新特性，同时不会影响之前的版本，增加中间一位数字，比如 1.0.2 --\x3e 1.1.2")]),s._v(" "),t("li",[s._v("大版本：大改版，无法兼容之前的，增加第一位数字，比如 1.1.2 --\x3e 2.1.2")])])])])]),s._v(" "),t("h2",{attrs:{id:"其他命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他命令"}},[s._v("#")]),s._v(" 其他命令")]),s._v(" "),t("p",[t("code",[s._v("npm config get registry")]),s._v("： 查看源地址")]),s._v(" "),t("p",[t("code",[s._v("npm --registry https://registry.npm.taobao.org install <name>")]),s._v("：临时使用源")]),s._v(" "),t("p",[t("code",[s._v("npm config set registry https://registry.npm.taobao.org")]),s._v("：持久使用源")]),s._v(" "),t("p",[t("code",[s._v("npm list -g --depth 0")]),s._v("： 查看全局安装过的包 -g:全局的安装包 list：已安装的node包 –depth 0：深度0")]),s._v(" "),t("p",[t("code",[s._v("npm doc <package-name>")]),s._v("：快速导航到npm软件包的文档页面")]),s._v(" "),t("p",[t("code",[s._v("npm bug <package-name>")]),s._v("：快速导航到npm软件包的bug提交页面")]),s._v(" "),t("p",[t("code",[s._v("npm home <package-name>")]),s._v("：快速导航到npm软件包的首页")]),s._v(" "),t("p",[t("code",[s._v("npm repo <package-name>")]),s._v(" 在浏览器中打开GitHub repo页面")]),s._v(" "),t("p",[t("code",[s._v("npm audit fix")]),s._v(" 会自动安装所有漏洞包的补丁版本(如果可用)")]),s._v(" "),t("p",[t("code",[s._v("npm dedupe")]),s._v(" ：删除重复的依赖项")]),s._v(" "),t("p",[t("code",[s._v("npm link")]),s._v("：NPM link会在全局npm modules文件夹中创建一个指向我们测试包的符号链接，我们可以通过运行"),t("code",[s._v("npm link <package name>")]),s._v(" 将这个包安装到我们的测试应用程序中，这将创建一个从全局安装的包到我们项目 "),t("code",[s._v("node_modules")]),s._v(" 目录的符号链接")])])}),[],!1,null,null,null);n.default=e.exports}}]);